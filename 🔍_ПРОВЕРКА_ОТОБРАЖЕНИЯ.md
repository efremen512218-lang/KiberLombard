# 🔍 Проверка отображения инвентаря

## Что проверить:

### 1. Backend работает
```bash
# Проверь что backend запущен
curl http://localhost:8000/api/inventory/76561198306528518
```

**Ожидаемый результат:**
```json
{
  "steam_id": "76561198306528518",
  "items": [...],  // 20 предметов
  "total_value": 221449.93,
  "last_updated": "..."
}
```

---

### 2. Frontend получает данные

#### Открой консоль браузера (F12)
```
http://localhost:3000/cabinet/inventory
```

#### Проверь Network tab:
1. F12 → Network
2. Обнови страницу (F5)
3. Найди запрос к `/api/inventory/...`
4. Проверь Response - должны быть предметы

#### Проверь Console tab:
- Не должно быть ошибок
- Должны быть логи загрузки

---

### 3. Предметы отображаются

#### На странице должно быть:
- ✅ "Всего предметов: 20"
- ✅ "Общая стоимость: 221,449 ₽"
- ✅ Сетка с карточками предметов
- ✅ Изображения предметов
- ✅ Названия и цены

#### Если не видишь предметы:
1. **Прокрути вниз** - возможно они ниже
2. **Проверь фильтры** - может быть активен фильтр
3. **Проверь поиск** - может быть введен текст
4. **Обнови страницу** - F5

---

### 4. Загрузка своего инвентаря

#### Шаг 1: Нажми "📥 Загрузить инвентарь"

#### Шаг 2: Вставь свою ссылку
Любой формат:
- Trade offer: `https://steamcommunity.com/tradeoffer/new/?partner=346262790&token=...`
- Профиль: `https://steamcommunity.com/profiles/76561198306528518`
- Steam ID: `76561198306528518`

#### Шаг 3: Нажми "Загрузить инвентарь"

#### Шаг 4: Смотри логи backend
В консоли backend должно быть:
```
[STEAM] Загрузка инвентаря для 76561198306528518
[STEAM] Пробуем улучшенный публичный метод...
[PUBLIC_INVENTORY] Status: 200 for 76561198306528518
[PUBLIC_INVENTORY] Найдено X предметов
[PUBLIC_INVENTORY] ✅ Загружено Y tradable предметов
[STEAM] ✅ Загружено Y предметов через публичный API
```

---

## Возможные проблемы:

### Проблема 1: "Не вижу предметы"
**Решение:**
1. Открой F12 → Console
2. Проверь есть ли ошибки
3. Проверь Network → Response
4. Прокрути страницу вниз
5. Сбрось фильтры (кнопка "Сбросить")

### Проблема 2: "Изображения не загружаются"
**Решение:**
1. Проверь интернет соединение
2. Проверь что URL изображений правильные
3. Открой изображение в новой вкладке
4. Проверь CORS настройки

### Проблема 3: "Показывает 0 предметов"
**Решение:**
1. Проверь что backend вернул данные (F12 → Network)
2. Проверь что `items` не пустой массив
3. Проверь фильтры и поиск
4. Обнови страницу (F5)

### Проблема 4: "Загружается бесконечно"
**Решение:**
1. Проверь что backend запущен
2. Проверь URL API в `.env.local`
3. Проверь Network → есть ли запрос
4. Проверь Console → есть ли ошибки

---

## Быстрая диагностика:

### Тест 1: Backend
```bash
curl http://localhost:8000/api/inventory/76561198306528518
```
Должно вернуть JSON с предметами ✅

### Тест 2: Frontend
```
http://localhost:3000/cabinet/inventory
```
Должны быть карточки предметов ✅

### Тест 3: Консоль браузера
```
F12 → Console
```
Не должно быть ошибок ✅

### Тест 4: Network
```
F12 → Network → Обнови страницу
```
Должен быть запрос к `/api/inventory/...` со статусом 200 ✅

---

## Что делать если все равно не работает:

### 1. Перезапусти все
```bash
# Останови все (Ctrl+C в каждом терминале)

# Запусти заново
cd backend
python main.py

# В другом терминале
cd frontend
npm run dev
```

### 2. Очисти кеш браузера
```
Ctrl+Shift+Delete → Очистить кеш
```

### 3. Проверь .env файлы

#### backend/.env
```env
STEAM_API_KEY=твой_ключ_если_есть
```

#### frontend/.env.local
```env
NEXT_PUBLIC_API_URL=http://localhost:8000
```

### 4. Проверь порты
```bash
# Backend должен быть на 8000
netstat -ano | findstr :8000

# Frontend должен быть на 3000
netstat -ano | findstr :3000
```

---

## Скриншот для проверки:

### Должно выглядеть так:

```
┌─────────────────────────────────────────────────────┐
│ КиберЛомбард          Инвентарь  Мои сделки  📥     │
├─────────────────────────────────────────────────────┤
│ 🔍 Поиск...  [Цена: дорогие ▼] [Все редкости ▼]   │
├─────────────────────────────────────────────────────┤
│                                                      │
│ Всего: 20    Стоимость: 221,449₽   Выбрано: 0      │
│                                                      │
│ ┌────┐ ┌────┐ ┌────┐ ┌────┐ ┌────┐                │
│ │AK47│ │AWP │ │M4A4│ │Deag│ │Gloc│                │
│ │3.4k│ │13k │ │ 0₽ │ │126k│ │ 0₽ │                │
│ └────┘ └────┘ └────┘ └────┘ └────┘                │
│                                                      │
│ ┌────┐ ┌────┐ ┌────┐ ┌────┐ ┌────┐                │
│ │USP │ │Kara│ │M4A1│ │P250│ │AK47│                │
│ │ ... │ │ ... │ │ ... │ │ ... │ │ ... │                │
│ └────┘ └────┘ └────┘ └────┘ └────┘                │
│                                                      │
└─────────────────────────────────────────────────────┘
```

---

## Если видишь карточки но не видишь изображения:

### Проблема: CORS или URL изображений

#### Решение 1: Проверь URL
Открой F12 → Network → Images
Должны быть запросы к `community.cloudflare.steamstatic.com`

#### Решение 2: Проверь CORS
В `backend/main.py` должно быть:
```python
app.add_middleware(
    CORSMiddleware,
    allow_origins=["http://localhost:3000"],
    allow_credentials=True,
    allow_methods=["*"],
    allow_headers=["*"],
)
```

#### Решение 3: Используй прокси
Если изображения не загружаются, можно добавить прокси в Next.js

---

## Готово! ✅

Если все проверки прошли - система работает правильно!

Если что-то не работает - смотри раздел "Возможные проблемы" выше.

---

**P.S.** На скриншоте видно что предметы загружаются (видны карточки). Возможно просто нужно прокрутить вниз или сбросить фильтры! 📜

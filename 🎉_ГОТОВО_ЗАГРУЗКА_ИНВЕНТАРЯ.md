# üéâ –ì–û–¢–û–í–û! –£–ª—É—á—à–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è

## ‚úÖ –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ:

### 1. –£–ª—É—á—à–µ–Ω–Ω—ã–π –ø—É–±–ª–∏—á–Ω—ã–π –º–µ—Ç–æ–¥ ‚≠ê
- **Retry –ª–æ–≥–∏–∫–∞** - 3 –ø–æ–ø—ã—Ç–∫–∏ —Å exponential backoff
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ rate limiting** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –ø—Ä–∏ 429
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å–µ—Ä–≤–µ—Ä–∞** - retry –ø—Ä–∏ 500
- **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏** - —ç–º—É–ª—è—Ü–∏—è Chrome –±—Ä–∞—É–∑–µ—Ä–∞

### 2. –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –º–µ—Ç–æ–¥ (–¥–ª—è –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö –∏–Ω–≤–µ–Ω—Ç–∞—Ä–µ–π) üîê
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Steam cookies
- –†–∞–±–æ—Ç–∞–µ—Ç –¥–∞–∂–µ –¥–ª—è –∑–∞–∫—Ä—ã—Ç—ã—Ö –∏–Ω–≤–µ–Ω—Ç–∞—Ä–µ–π
- –ù–æ–≤—ã–π endpoint: `/api/inventory/authenticated/{steam_id}`

### 3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤
–°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–±—É–µ—Ç –º–µ—Ç–æ–¥—ã –ø–æ –æ—á–µ—Ä–µ–¥–∏:
1. **–ü—É–±–ª–∏—á–Ω—ã–π –º–µ—Ç–æ–¥ —Å retry** (3 –ø–æ–ø—ã—Ç–∫–∏)
2. **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã** (fallback)
3. **–¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ** (–¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏)

---

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

### –ú–µ—Ç–æ–¥ 1: –û–±—ã—á–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ (–ø—É–±–ª–∏—á–Ω—ã–π –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å)

#### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å
http://localhost:3000/cabinet/inventory

#### –®–∞–≥ 2: –ù–∞–∂–º–∏ "üì• –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å"

#### –®–∞–≥ 3: –í—Å—Ç–∞–≤—å —Å—Å—ã–ª–∫—É
–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã:
- **Trade offer**: `https://steamcommunity.com/tradeoffer/new/?partner=346262790&token=...`
- **–ü—Ä–æ—Ñ–∏–ª—å**: `https://steamcommunity.com/profiles/76561198306528518`
- **Steam ID**: `76561198306528518`

#### –®–∞–≥ 4: –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. ‚úÖ –ü–æ–ø—Ä–æ–±—É–µ—Ç –∑–∞–≥—Ä—É–∑–∏—Ç—å —á–µ—Ä–µ–∑ –ø—É–±–ª–∏—á–Ω—ã–π API (3 –ø–æ–ø—ã—Ç–∫–∏)
2. ‚úÖ –ü—Ä–∏ –æ—à–∏–±–∫–µ - –ø–æ–ø—Ä–æ–±—É–µ—Ç –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã
3. ‚úÖ –ü—Ä–∏ rate limit - –ø–æ–¥–æ–∂–¥–µ—Ç –∏ –ø–æ–≤—Ç–æ—Ä–∏—Ç
4. ‚úÖ –ï—Å–ª–∏ –Ω–µ –ø–æ–ª—É—á–∏—Ç—Å—è - –ø–æ–∫–∞–∂–µ—Ç —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

---

### –ú–µ—Ç–æ–¥ 2: –° cookies (–¥–ª—è –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö –∏–Ω–≤–µ–Ω—Ç–∞—Ä–µ–π) üîê

–ï—Å–ª–∏ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å –ø—Ä–∏–≤–∞—Ç–Ω—ã–π, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å cookies:

#### –®–∞–≥ 1: –ü–æ–ª—É—á–∏ cookies –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞
1. –û—Ç–∫—Ä–æ–π Steam –≤ –±—Ä–∞—É–∑–µ—Ä–µ –∏ –∞–≤—Ç–æ—Ä–∏–∑—É–π—Å—è
2. –ù–∞–∂–º–∏ F12 (DevTools)
3. Application ‚Üí Cookies ‚Üí https://steamcommunity.com
4. –ù–∞–π–¥–∏:
   - `sessionid`
   - `steamLoginSecure`

#### –®–∞–≥ 2: –ò—Å–ø–æ–ª—å–∑—É–π API
```bash
POST /api/inventory/authenticated/76561198306528518
Content-Type: application/json

{
  "sessionid": "—Ç–≤–æ–π_sessionid",
  "steamLoginSecure": "—Ç–≤–æ–π_steamLoginSecure"
}
```

---

## üîß –ß—Ç–æ —É–ª—É—á—à–µ–Ω–æ:

### ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:
- **403 Forbidden** - –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å –ø—Ä–∏–≤–∞—Ç–Ω—ã–π (–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å cookies)
- **429 Too Many Requests** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π retry —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π
- **500 Server Error** - retry —Å exponential backoff
- **Timeout** - —É–≤–µ–ª–∏—á–µ–Ω–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –∏ –ø–æ–≤—Ç–æ—Ä

### ‚úÖ Retry –ª–æ–≥–∏–∫–∞:
```
–ü–æ–ø—ã—Ç–∫–∞ 1: –∑–∞–¥–µ—Ä–∂–∫–∞ 1 —Å–µ–∫—É–Ω–¥–∞
–ü–æ–ø—ã—Ç–∫–∞ 2: –∑–∞–¥–µ—Ä–∂–∫–∞ 2 —Å–µ–∫—É–Ω–¥—ã
–ü–æ–ø—ã—Ç–∫–∞ 3: –∑–∞–¥–µ—Ä–∂–∫–∞ 4 —Å–µ–∫—É–Ω–¥—ã
```

### ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏:
```
User-Agent: Chrome 120
Accept: application/json
Referer: steamcommunity.com
X-Requested-With: XMLHttpRequest
Sec-Fetch-*: –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
```

---

## üìä –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:

### 1. `backend/services/steam_authenticated_inventory.py`
–ù–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å —Å —É–ª—É—á—à–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–æ–¥–∞–º–∏:
- `get_inventory_public()` - –ø—É–±–ª–∏—á–Ω—ã–π —Å retry
- `get_inventory_with_cookies()` - —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π
- `extract_cookies_from_browser_string()` - –ø–∞—Ä—Å–∏–Ω–≥ cookies

### 2. `STEAM_INVENTORY_METHODS.md`
–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
- –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç –º–µ—Ç–æ–¥—ã
- –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- FAQ

### 3. –û–±–Ω–æ–≤–ª–µ–Ω `backend/services/steam_service.py`
–¢–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —É–ª—É—á—à–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

### 4. –ù–æ–≤—ã–π endpoint –≤ `backend/main.py`
`POST /api/inventory/authenticated/{steam_id}` –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å cookies

---

## üéØ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π:

### –¢–µ—Å—Ç 1: –ü—É–±–ª–∏—á–Ω—ã–π –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å
```bash
# –ß–µ—Ä–µ–∑ frontend
http://localhost:3000/cabinet/inventory
‚Üí –ù–∞–∂–º–∏ "üì• –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å"
‚Üí –í—Å—Ç–∞–≤—å: https://steamcommunity.com/tradeoffer/new/?partner=346262790&token=84ThNh2-

# –ß–µ—Ä–µ–∑ API
curl http://localhost:8000/api/inventory/76561198306528518
```

### –¢–µ—Å—Ç 2: –° cookies (–µ—Å–ª–∏ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å –ø—Ä–∏–≤–∞—Ç–Ω—ã–π)
```bash
curl -X POST http://localhost:8000/api/inventory/authenticated/76561198306528518 \
  -H "Content-Type: application/json" \
  -d '{
    "sessionid": "—Ç–≤–æ–π_sessionid",
    "steamLoginSecure": "—Ç–≤–æ–π_steamLoginSecure"
  }'
```

---

## üí° –ü–æ—á–µ–º—É —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –ª—É—á—à–µ:

### –ü—Ä–æ–±–ª–µ–º–∞: Steam –±–ª–æ–∫–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã
- Rate limiting
- –ü—Ä–æ–≤–µ—Ä–∫–∞ User-Agent
- –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –∏–Ω–≤–µ–Ω—Ç–∞—Ä–∏

### –†–µ—à–µ–Ω–∏–µ: –ö–∞–∫ —É Lis-Skins –∏ –¥—Ä—É–≥–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –±—Ä–∞—É–∑–µ—Ä–∞
- ‚úÖ –ó–∞–¥–µ—Ä–∂–∫–∏ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
- ‚úÖ Retry —Å exponential backoff
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ cookies –¥–ª—è –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤

---

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:

–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤ —Ñ–∞–π–ª–µ: **STEAM_INVENTORY_METHODS.md**

–¢–∞–º –Ω–∞–π–¥–µ—à—å:
- –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö –º–µ—Ç–æ–¥–æ–≤
- –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ (Python + TypeScript)
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö –æ—à–∏–±–æ–∫
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –¥—Ä—É–≥–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏
- FAQ

---

## üî• –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

**–û—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ä–∞–∑—É:**
```
http://localhost:3000/cabinet/inventory
‚Üí üì• –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å
‚Üí –í—Å—Ç–∞–≤—å —Å–≤–æ—é —Å—Å—ã–ª–∫—É
‚Üí –ì–æ—Ç–æ–≤–æ! ‚úÖ
```

**–î–ª—è –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö –∏–Ω–≤–µ–Ω—Ç–∞—Ä–µ–π:**
- –ò—Å–ø–æ–ª—å–∑—É–π –º–µ—Ç–æ–¥ —Å cookies
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤ STEAM_INVENTORY_METHODS.md

---

**–í—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç! –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å! üöÄ**

P.S. –¢–µ–ø–µ—Ä—å —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã (Lis-Skins, CSFloat, Skinport) —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –≤—Å–µ—Ö –æ—à–∏–±–æ–∫ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ retry!

# üöÄ Production –†–µ–∞–ª–∏–∑–∞—Ü–∏—è - –ü–æ–ª–Ω–∞—è –í–µ—Ä—Å–∏—è

## –°—Ç–∞—Ç—É—Å: –í –ü—Ä–æ—Ü–µ—Å—Å–µ

### ‚úÖ –ß—Ç–æ –°–¥–µ–ª–∞–Ω–æ

#### 1. –ú–æ–¥–µ–ª–∏ –ë–î (100%)
- ‚úÖ KYCVerification - –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–∞—Å–ø–æ—Ä—Ç–æ–≤
- ‚úÖ DealSignature - —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–µ –ø–æ–¥–ø–∏—Å–∏
- ‚úÖ SBPPayout - –≤—ã–ø–ª–∞—Ç—ã –°–ë–ü
- ‚úÖ AuditLog - –ø–æ–ª–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

**–§–∞–π–ª:** `backend/models.py`

#### 2. –≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∞—è –ú–æ–¥–µ–ª—å (100%)
- ‚úÖ –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –ø–æ–∫—É–ø–∫–∏ 50-65%
- ‚úÖ –†–∞—Å—á—ë—Ç –ø—Ä–∏–±—ã–ª–∏ –ø—Ä–∏ –¥–µ—Ñ–æ–ª—Ç–µ/–≤—ã–∫—É–ø–µ
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç –ø–∞–¥–µ–Ω–∏—è —Ü–µ–Ω
- ‚úÖ –¶–µ–ª–µ–≤–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å 500-1000% –≥–æ–¥–æ–≤—ã—Ö

**–§–∞–π–ª—ã:**
- `–≠–ö–û–ù–û–ú–ò–ß–ï–°–ö–ê–Ø_–ú–û–î–ï–õ–¨.md`
- `üí∞_–ú–û–î–ï–õ–¨_–¶–ï–ù–û–û–ë–†–ê–ó–û–í–ê–ù–ò–Ø_–ì–û–¢–û–í–ê.md`
- `backend/services/pricing_service.py`

#### 3. API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (100%)
- ‚úÖ Market.CSGO API –∏–∑—É—á–µ–Ω
- ‚úÖ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –ø–æ–ª—É—á–µ–Ω–∏—é –∫–ª—é—á–µ–π
- ‚úÖ –¢–µ—Å—Ç—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

**–§–∞–π–ª—ã:**
- `API_–ò–ù–¢–ï–ì–†–ê–¶–ò–Ø.md`
- `üîë_API_–ö–õ–Æ–ß–ò_–ò–ù–°–¢–†–£–ö–¶–ò–Ø.md`
- `backend/test_market_csgo_api.py`

---

### üîÑ –í –ü—Ä–æ—Ü–µ—Å—Å–µ

#### 4. –†–µ–∞–ª—å–Ω—ã–µ API –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
**–°—Ç–∞—Ç—É—Å:** –ù–∞—á–∞—Ç–æ

**Market.CSGO:**
```python
# backend/services/market_csgo_service.py
- ‚úÖ –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- ‚úÖ –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- üîÑ –†–µ–∞–ª—å–Ω—ã–µ HTTP –∑–∞–ø—Ä–æ—Å—ã
- ‚è≥ –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –æ—Ç–≤–µ—Ç–æ–≤
```

**Lis-Skins:**
```python
# backend/services/lisskins_service.py
- ‚úÖ –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- ‚è≥ Reverse engineering API
- ‚è≥ –†–µ–∞–ª—å–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
```

**Steam Prices:**
```python
# backend/services/steam_prices.py
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ü–æ–ª—É—á–∞–µ—Ç —Å–ø—Ä–∞–≤–æ—á–Ω—ã–µ —Ü–µ–Ω—ã
```

#### 5. Price Aggregator
**–°—Ç–∞—Ç—É—Å:** –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è

```python
# backend/services/price_aggregator.py
- ‚úÖ –õ–æ–≥–∏–∫–∞ –∞–≥—Ä–µ–≥–∞—Ü–∏–∏
- ‚úÖ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ instant_price
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏–µ–º–ª–µ–º–æ—Å—Ç–∏
- üîÑ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ API
```

---

### ‚è≥ –°–ª–µ–¥—É—é—â–∏–µ –ó–∞–¥–∞—á–∏

#### 6. API Endpoints (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1)
**–§–∞–π–ª:** `backend/main.py`

**–î–æ–±–∞–≤–∏—Ç—å:**
```python
# KYC Endpoints
POST /api/kyc/phone/send-code
POST /api/kyc/phone/verify-code
POST /api/kyc/passport/submit
GET  /api/kyc/passport/status/{verification_id}

# Contract Signing
POST /api/deals/{deal_id}/sign/init
POST /api/deals/{deal_id}/sign/complete
GET  /api/deals/{deal_id}/contract

# Payouts
POST /api/deals/{deal_id}/payout/create
GET  /api/deals/{deal_id}/payout/status

# Admin
GET  /api/admin/deals/{deal_id}/legal-package
```

#### 7. Frontend –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2)

**–°–æ–∑–¥–∞—Ç—å:**
```typescript
// –°–ª–∞–π–¥–µ—Ä —Å—Ä–æ–∫–∞
frontend/src/components/TermSlider.tsx

// KYC —Ñ–æ—Ä–º—ã
frontend/src/components/PhoneVerification.tsx
frontend/src/components/PassportForm.tsx

// –ü–æ–¥–ø–∏—Å–∞–Ω–∏–µ
frontend/src/components/ContractSigning.tsx

// –û–±–Ω–æ–≤–∏—Ç—å –∫–∞—Ä—Ç–æ—á–∫–∏
frontend/src/components/ItemCard.tsx
```

#### 8. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3)

**Unit —Ç–µ—Å—Ç—ã:**
- Pricing calculations
- Term interpolation
- SMS code generation
- Contract hashing

**Integration —Ç–µ—Å—Ç—ã:**
- Full deal flow
- KYC verification
- Contract signing
- Payout flow

**E2E —Ç–µ—Å—Ç—ã:**
- User journey
- Real API calls
- Error scenarios

---

## –ü–ª–∞–Ω –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –°–µ–≥–æ–¥–Ω—è (4-6 —á–∞—Å–æ–≤)

#### –®–∞–≥ 1: –ú–∏–≥—Ä–∞—Ü–∏—è –ë–î (30 –º–∏–Ω)
```bash
cd backend
python alembic_migration_add_models.py
```

#### –®–∞–≥ 2: –†–µ–∞–ª—å–Ω—ã–µ API –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (2-3 —á–∞—Å–∞)
1. –ó–∞–≤–µ—Ä—à–∏—Ç—å market.csgo integration
2. –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å Lis-Skins API
3. –û–±–Ω–æ–≤–∏—Ç—å price_aggregator
4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

#### –®–∞–≥ 3: API Endpoints (1-2 —á–∞—Å–∞)
1. KYC endpoints
2. Contract signing endpoints
3. Payout endpoints
4. Middleware –¥–ª—è IP/user-agent

#### –®–∞–≥ 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (1 —á–∞—Å)
1. –¢–µ—Å—Ç –º–∏–≥—Ä–∞—Ü–∏–∏
2. –¢–µ—Å—Ç API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π
3. –¢–µ—Å—Ç endpoints

### –ó–∞–≤—Ç—Ä–∞ (4-6 —á–∞—Å–æ–≤)

#### –®–∞–≥ 5: Frontend –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (3-4 —á–∞—Å–∞)
1. TermSlider
2. PhoneVerification
3. PassportForm
4. ContractSigning
5. –û–±–Ω–æ–≤–∏—Ç—å ItemCard

#### –®–∞–≥ 6: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (1-2 —á–∞—Å–∞)
1. –ü–æ–¥–∫–ª—é—á–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∫ API
2. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
3. Loading states
4. Success/error messages

### –ü–æ—Å–ª–µ–∑–∞–≤—Ç—Ä–∞ (2-4 —á–∞—Å–∞)

#### –®–∞–≥ 7: E2E –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (2-3 —á–∞—Å–∞)
1. –ü–æ–ª–Ω—ã–π flow —Å–¥–µ–ª–∫–∏
2. –¢–µ—Å—Ç —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ —Ü–µ–Ω–∞–º–∏
3. –¢–µ—Å—Ç KYC
4. –¢–µ—Å—Ç –ø–æ–¥–ø–∏—Å–∞–Ω–∏—è

#### –®–∞–≥ 8: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (1 —á–∞—Å)
1. –û–±–Ω–æ–≤–∏—Ç—å README
2. API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
3. Deployment guide

---

## –¢–µ–∫—É—â–∏–π –ü—Ä–æ–≥—Ä–µ—Å—Å

### Backend: 60%
- ‚úÖ –ú–æ–¥–µ–ª–∏ –ë–î
- ‚úÖ Pricing –ª–æ–≥–∏–∫–∞
- ‚úÖ –ë–∞–∑–æ–≤—ã–µ —Å–µ—Ä–≤–∏—Å—ã
- üîÑ API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (50%)
- ‚è≥ Endpoints (0%)

### Frontend: 20%
- ‚úÖ –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- ‚úÖ –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å
- ‚úÖ –£—Å–ª–æ–≤–∏—è —Å–¥–µ–ª–∫–∏
- ‚è≥ –°–ª–∞–π–¥–µ—Ä —Å—Ä–æ–∫–∞ (0%)
- ‚è≥ KYC —Ñ–æ—Ä–º—ã (0%)
- ‚è≥ –ü–æ–¥–ø–∏—Å–∞–Ω–∏–µ (0%)

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: 10%
- ‚úÖ –ë–∞–∑–æ–≤—ã–µ —Ç–µ—Å—Ç—ã
- ‚è≥ Unit —Ç–µ—Å—Ç—ã (0%)
- ‚è≥ Integration —Ç–µ—Å—Ç—ã (0%)
- ‚è≥ E2E —Ç–µ—Å—Ç—ã (0%)

### –û–±—â–∏–π –ü—Ä–æ–≥—Ä–µ—Å—Å: 40%

---

## –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

### –ë–ª–æ–∫–µ—Ä—ã
1. ‚ùå Lis-Skins API - –Ω–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
   - **–†–µ—à–µ–Ω–∏–µ:** Reverse engineering –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å market.csgo
   
2. ‚è≥ API –∫–ª—é—á–∏
   - Market.CSGO - –Ω—É–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å
   - SMS –ø—Ä–æ–≤–∞–π–¥–µ—Ä - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (fake –¥–ª—è dev)
   - KYC –ø—Ä–æ–≤–∞–π–¥–µ—Ä - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (fake –¥–ª—è dev)

### –†–∏—Å–∫–∏
1. Lis-Skins API –º–æ–∂–µ—Ç –Ω–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –ø—É–±–ª–∏—á–Ω–æ
   - **–ú–∏—Ç–∏–≥–∞—Ü–∏—è:** Market.CSGO –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π –∏—Å—Ç–æ—á–Ω–∏–∫
   
2. –í—Ä–µ–º—è –Ω–∞ frontend —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É
   - **–ú–∏—Ç–∏–≥–∞—Ü–∏—è:** –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π MVP UI

---

## –°–ª–µ–¥—É—é—â–∏–π –®–∞–≥

**–°–ï–ô–ß–ê–°:**
1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –ë–î
2. –ó–∞–≤–µ—Ä—à–∏—Ç—å market.csgo –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ —Ü–µ–Ω—ã

**–ö–æ–º–∞–Ω–¥—ã:**
```bash
# 1. –ú–∏–≥—Ä–∞—Ü–∏—è
cd backend
python alembic_migration_add_models.py

# 2. –¢–µ—Å—Ç API
python test_market_csgo_api.py

# 3. –ó–∞–ø—É—Å–∫
python main.py
```

---

## –û—Ü–µ–Ω–∫–∞ –í—Ä–µ–º–µ–Ω–∏ –¥–æ Production

- **Backend:** 6-8 —á–∞—Å–æ–≤
- **Frontend:** 6-8 —á–∞—Å–æ–≤
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** 4-6 —á–∞—Å–æ–≤
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** 2 —á–∞—Å–∞

**–ò—Ç–æ–≥–æ: 18-24 —á–∞—Å–∞ —Å—Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã**

**ETA: 3-4 —Ä–∞–±–æ—á–∏—Ö –¥–Ω—è**

---

## –ì–æ—Ç–æ–≤–æ –∫ –ó–∞–ø—É—Å–∫—É –ö–æ–≥–¥–∞

- [x] –ú–æ–¥–µ–ª–∏ –ë–î —Å–æ–∑–¥–∞–Ω—ã
- [x] –≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∞—è –º–æ–¥–µ–ª—å –≥–æ—Ç–æ–≤–∞
- [ ] –†–µ–∞–ª—å–Ω—ã–µ API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –í—Å–µ endpoints —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- [ ] Frontend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–æ–∑–¥–∞–Ω—ã
- [ ] –¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞

**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å: 40% –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏**

# ‚ö° –û–±–Ω–æ–≤–∏ –ë—Ä–∞—É–∑–µ—Ä - –°–ª–∞–π–¥–µ—Ä –ì–æ—Ç–æ–≤!

## ‚úÖ –ß—Ç–æ –°–¥–µ–ª–∞–Ω–æ

### 1. –£–±—Ä–∞–Ω–∞ –¶–µ–Ω–∞ Steam Market
- –¢–µ–ø–µ—Ä—å –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ 2 –∫–∞—Ä—Ç–æ—á–∫–∏:
  - üí∞ **–í—ã–¥–∞—á–∞** (loan_amount)
  - üîÑ **–í—ã–∫—É–ø** (buyback_price)
- Steam Market —Ü–µ–Ω–∞ –±–æ–ª—å—à–µ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è

### 2. –î–æ–±–∞–≤–ª–µ–Ω –°–ª–∞–π–¥–µ—Ä –°—Ä–æ–∫–∞ (7-30 –¥–Ω–µ–π)
- –î–∏–∞–ø–∞–∑–æ–Ω: 7-30 –¥–Ω–µ–π
- –®–∞–≥: 1 –¥–µ–Ω—å
- –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 14 –¥–Ω–µ–π
- –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–ª–∞–π–¥–µ—Ä–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è —É—Å–ª–æ–≤–∏—è

### 3. –†–∞—Å—á—ë—Ç –ü—Ä–æ—Ü–µ–Ω—Ç–æ–≤ –ø–æ –î–Ω—è–º
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **–ª–∏–Ω–µ–π–Ω–∞—è –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è** –º–µ–∂–¥—É –±–∞–∑–æ–≤—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏:

| –°—Ä–æ–∫ | –ü—Ä–æ—Ü–µ–Ω—Ç—ã | –ü—Ä–µ–º–∏—è | –ò—Ç–æ–≥–æ | –ì–æ–¥–æ–≤—ã—Ö |
|------|----------|--------|-------|---------|
| 7–¥   | 10%      | 5%     | 15%   | 782%    |
| 14–¥  | 15%      | 7%     | 22%   | 574%    |
| 21–¥  | 20%      | 9%     | 29%   | 504%    |
| 30–¥  | 25%      | 10%    | 35%   | 426%    |

**–î–ª—è –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π** (–Ω–∞–ø—Ä–∏–º–µ—Ä, 10 –¥–Ω–µ–π):
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –º–µ–∂–¥—É –±–ª–∏–∂–∞–π—à–∏–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
- 10 –¥–Ω–µ–π = –º–µ–∂–¥—É 7–¥ –∏ 14–¥
- –ü—Ä–æ—Ü–µ–Ω—Ç—ã: 10% + (15%-10%) √ó (10-7)/(14-7) = 12.1%
- –ü—Ä–µ–º–∏—è: 5% + (7%-5%) √ó (10-7)/(14-7) = 5.9%
- –ò—Ç–æ–≥–æ: 18.0%

### 4. –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏
–ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é:
- **–ü—Ä–æ—Ü–µ–Ω—Ç—ã** - –æ—Å–Ω–æ–≤–Ω–∞—è —Å—Ç–∞–≤–∫–∞ –∑–∞ —Å—Ä–æ–∫
- **–ü—Ä–µ–º–∏—è** - –ø—Ä–µ–º–∏—è –∑–∞ –æ–ø—Ü–∏–æ–Ω
- **–ò—Ç–æ–≥–æ** - –æ–±—â–∞—è –ø–µ—Ä–µ–ø–ª–∞—Ç–∞
- **–ì–æ–¥–æ–≤—ã—Ö** - —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç –≤ –≥–æ–¥–æ–≤—ã—Ö –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö

### 5. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –û—à–∏–±–∫–∞ TypeError
```python
# –ë—ã–ª–æ:
if price_data < 10.0:  # ‚ùå –û—à–∏–±–∫–∞: dict < float

# –°—Ç–∞–ª–æ:
if isinstance(price_data, dict):
    price = price_data.get("instant_price", 0.0)
else:
    price = price_data if isinstance(price_data, (int, float)) else 0.0
```

---

## üéØ –ß—Ç–æ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å

### 1. –û—Ç–∫—Ä–æ–π –°—Ç—Ä–∞–Ω–∏—Ü—É –£—Å–ª–æ–≤–∏–π
```
http://localhost:3000/cabinet/quote?items=47838116490
```

### 2. –ü—Ä–æ–≤–µ—Ä—å –°–ª–∞–π–¥–µ—Ä
- [ ] –°–ª–∞–π–¥–µ—Ä –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- [ ] –ú–æ–∂–Ω–æ –¥–≤–∏–≥–∞—Ç—å –æ—Ç 7 –¥–æ 30 –¥–Ω–µ–π
- [ ] –¢–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è: "–°—Ä–æ–∫ –≤—ã–∫—É–ø–∞: X –¥–Ω–µ–π"

### 3. –ü—Ä–æ–≤–µ—Ä—å –†–∞—Å—á—ë—Ç—ã
–ü–æ–¥–≤–∏–≥–∞–π —Å–ª–∞–π–¥–µ—Ä –∏ –ø—Ä–æ–≤–µ—Ä—å, —á—Ç–æ:
- [ ] –ü—Ä–æ—Ü–µ–Ω—Ç—ã –º–µ–Ω—è—é—Ç—Å—è (–æ—Ç 10% –¥–æ 25%)
- [ ] –ü—Ä–µ–º–∏—è –º–µ–Ω—è–µ—Ç—Å—è (–æ—Ç 5% –¥–æ 10%)
- [ ] –ò—Ç–æ–≥–æ –º–µ–Ω—è–µ—Ç—Å—è (–æ—Ç 15% –¥–æ 35%)
- [ ] –ì–æ–¥–æ–≤—ã—Ö –º–µ–Ω—è–µ—Ç—Å—è (–æ—Ç 426% –¥–æ 782%)
- [ ] –¶–µ–Ω–∞ –≤—ã–∫—É–ø–∞ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### 4. –ü—Ä–æ–≤–µ—Ä—å –ö–∞—Ä—Ç–æ—á–∫–∏
- [ ] –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ 2 –∫–∞—Ä—Ç–æ—á–∫–∏ (–≤—ã–¥–∞—á–∞ –∏ –≤—ã–∫—É–ø)
- [ ] Steam Market —Ü–µ–Ω–∞ –ù–ï –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è
- [ ] –î–∞—Ç–∞ –≤—ã–∫—É–ø–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ä–æ–∫–∞

### 5. –ü—Ä–æ–≤–µ—Ä—å –î–µ—Ç–∞–ª–∏
–í –±–ª–æ–∫–µ "–î–µ—Ç–∞–ª–∏ —Ä–∞—Å—á–µ—Ç–∞" –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
- [ ] –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –≤—ã–¥–∞—á–∏ (50-65%)
- [ ] –ü–µ—Ä–µ–ø–ª–∞—Ç–∞ –∑–∞ X –¥–Ω–µ–π (15-35%)
- [ ] –ì–æ–¥–æ–≤—ã—Ö (426-782%)
- [ ] –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–µ–¥–º–µ—Ç–æ–≤

---

## üìä –ü—Ä–∏–º–µ—Ä –†–∞—Å—á—ë—Ç–∞

### –ò—Å—Ö–æ–¥–Ω—ã–µ –î–∞–Ω–Ω—ã–µ
- –ü—Ä–µ–¥–º–µ—Ç: AK-47 Redline (FT)
- Instant sell —Ü–µ–Ω–∞: 2,800‚ÇΩ
- –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –ø–æ–∫—É–ø–∫–∏: 55% (—Å—Ä–µ–¥–Ω–∏–π —Å–∫–∏–Ω)

### –†–∞—Å—á—ë—Ç –¥–ª—è 14 –¥–Ω–µ–π
```
–í—ã–¥–∞—á–∞ = 2,800‚ÇΩ √ó 55% = 1,540‚ÇΩ

–ü—Ä–æ—Ü–µ–Ω—Ç—ã (15%) = 1,540‚ÇΩ √ó 0.15 = 231‚ÇΩ
–ü—Ä–µ–º–∏—è (7%) = (1,540‚ÇΩ + 231‚ÇΩ) √ó 0.07 = 124‚ÇΩ

–í—ã–∫—É–ø = 1,540‚ÇΩ + 231‚ÇΩ + 124‚ÇΩ = 1,895‚ÇΩ

–ü–µ—Ä–µ–ø–ª–∞—Ç–∞ = 1,895‚ÇΩ - 1,540‚ÇΩ = 355‚ÇΩ (23%)
–ì–æ–¥–æ–≤—ã—Ö = 23% √ó (365/14) = 600%
```

### –†–∞—Å—á—ë—Ç –¥–ª—è 30 –¥–Ω–µ–π
```
–í—ã–¥–∞—á–∞ = 1,540‚ÇΩ (–Ω–µ –º–µ–Ω—è–µ—Ç—Å—è)

–ü—Ä–æ—Ü–µ–Ω—Ç—ã (25%) = 1,540‚ÇΩ √ó 0.25 = 385‚ÇΩ
–ü—Ä–µ–º–∏—è (10%) = (1,540‚ÇΩ + 385‚ÇΩ) √ó 0.10 = 193‚ÇΩ

–í—ã–∫—É–ø = 1,540‚ÇΩ + 385‚ÇΩ + 193‚ÇΩ = 2,118‚ÇΩ

–ü–µ—Ä–µ–ø–ª–∞—Ç–∞ = 2,118‚ÇΩ - 1,540‚ÇΩ = 578‚ÇΩ (38%)
–ì–æ–¥–æ–≤—ã—Ö = 38% √ó (365/30) = 462%
```

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –î–µ—Ç–∞–ª–∏

### Frontend (quote/page.tsx)
```typescript
// –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–ª–∞–π–¥–µ—Ä–∞
const [optionDays, setOptionDays] = useState(14)

// –§—É–Ω–∫—Ü–∏—è —Ä–∞—Å—á—ë—Ç–∞ –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤
const calculateInterestRate = (days: number) => {
  const terms = {
    7: { interest: 0.10, premium: 0.05 },
    14: { interest: 0.15, premium: 0.07 },
    21: { interest: 0.20, premium: 0.09 },
    30: { interest: 0.25, premium: 0.10 }
  }
  
  // –õ–∏–Ω–µ–π–Ω–∞—è –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è
  // ...
}

// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Å—á—ë—Ç –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏
useEffect(() => {
  loadQuote()
}, [optionDays])
```

### Backend (main.py)
```python
# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–∞
if isinstance(price_data, dict):
    price = price_data.get("instant_price", 0.0)
else:
    price = price_data if isinstance(price_data, (int, float)) else 0.0
```

### Backend (pricing_service.py)
```python
@staticmethod
def get_term_config(days: int) -> Dict:
    """–ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è —Å—Ä–æ–∫–∞ —Å –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏–µ–π"""
    terms = {
        7: {"interest": 0.10, "premium": 0.05},
        14: {"interest": 0.15, "premium": 0.07},
        21: {"interest": 0.20, "premium": 0.09},
        30: {"interest": 0.25, "premium": 0.10}
    }
    
    # –õ–∏–Ω–µ–π–Ω–∞—è –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è –º–µ–∂–¥—É –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
    # ...
```

---

## üé® UI –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### –°–ª–∞–π–¥–µ—Ä
```tsx
<input
  type="range"
  min="7"
  max="30"
  value={optionDays}
  onChange={(e) => setOptionDays(Number(e.target.value))}
  className="w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-cyber-blue"
/>
```

### –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –ü—Ä–æ—Ü–µ–Ω—Ç–æ–≤
```tsx
<div className="grid grid-cols-3 gap-4">
  <div>
    <div className="text-gray-400">–ü—Ä–æ—Ü–µ–Ω—Ç—ã</div>
    <div className="text-xl font-bold text-cyber-blue">
      {(interestRate.interest * 100).toFixed(1)}%
    </div>
  </div>
  <div>
    <div className="text-gray-400">–ü—Ä–µ–º–∏—è</div>
    <div className="text-xl font-bold text-purple-400">
      {(interestRate.premium * 100).toFixed(1)}%
    </div>
  </div>
  <div>
    <div className="text-gray-400">–ò—Ç–æ–≥–æ</div>
    <div className="text-xl font-bold text-orange-400">
      {(interestRate.total * 100).toFixed(1)}%
    </div>
  </div>
</div>
```

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é

–í—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç! –û–±–Ω–æ–≤–∏ –±—Ä–∞—É–∑–µ—Ä (Ctrl+Shift+R) –∏ –ø—Ä–æ–≤–µ—Ä—å:

1. **–°–ª–∞–π–¥–µ—Ä** - –¥–≤–∏–≥–∞–µ—Ç—Å—è –ø–ª–∞–≤–Ω–æ –æ—Ç 7 –¥–æ 30 –¥–Ω–µ–π
2. **–ü—Ä–æ—Ü–µ–Ω—Ç—ã** - –º–µ–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
3. **–¶–µ–Ω–∞ –≤—ã–∫—É–ø–∞** - –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
4. **–î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–∞—Å—á—ë—Ç–∞
5. **–ì–æ–¥–æ–≤—ã–µ** - –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

## üêõ –ï—Å–ª–∏ –ß—Ç–æ-—Ç–æ –ù–µ –†–∞–±–æ—Ç–∞–µ—Ç

### –°–ª–∞–π–¥–µ—Ä –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ frontend
cd frontend
npm run dev
```

### –¶–µ–Ω—ã –Ω–µ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
- –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∫ `/api/quote` –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–ª–∞–π–¥–µ—Ä–∞

### –û—à–∏–±–∫–∞ TypeError
```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ backend
cd backend
python main.py
```

---

## üìù –°–ª–µ–¥—É—é—â–∏–µ –®–∞–≥–∏

–ü–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–ª–∞–π–¥–µ—Ä–∞:

1. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–µ—Å—å flow:**
   - –í—ã–±—Ä–∞—Ç—å –ø—Ä–µ–¥–º–µ—Ç—ã
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å—Ä–æ–∫
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞—Å—á—ë—Ç—ã
   - –°–æ–∑–¥–∞—Ç—å —Å–¥–µ–ª–∫—É

2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å edge cases:**
   - –ú–∏–Ω–∏–º—É–º (7 –¥–Ω–µ–π)
   - –ú–∞–∫—Å–∏–º—É–º (30 –¥–Ω–µ–π)
   - –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è (10, 15, 25 –¥–Ω–µ–π)

3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –ø—Ä–µ–¥–º–µ—Ç–∞—Ö:**
   - –î–µ—à—ë–≤—ã–µ (<500‚ÇΩ)
   - –°—Ä–µ–¥–Ω–∏–µ (500-5000‚ÇΩ)
   - –î–æ—Ä–æ–≥–∏–µ (>5000‚ÇΩ)

---

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–µ–ø–µ—Ä—å —É —Ç–µ–±—è:
- ‚úÖ –°–ª–∞–π–¥–µ—Ä —Å—Ä–æ–∫–∞ –≤—ã–∫—É–ø–∞ (7-30 –¥–Ω–µ–π)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á—ë—Ç –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤
- ‚úÖ –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- ‚úÖ –ì–æ–¥–æ–≤—ã–µ –ø—Ä–æ—Ü–µ–Ω—Ç—ã
- ‚úÖ –£–±—Ä–∞–Ω–∞ —Ü–µ–Ω–∞ Steam Market
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ TypeError

**–û–±–Ω–æ–≤–∏ –±—Ä–∞—É–∑–µ—Ä –∏ –ø—Ä–æ–≤–µ—Ä—å!** üöÄ
